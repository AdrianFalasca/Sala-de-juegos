import{a as O,b as c,c as N,d as D,e as k,f as B,g as V,h as A,i as q,j as G,k as R,l as U,n as j,o as H,p as J}from"./chunk-6SSDFAV4.js";import{d as L,r as $,s as z}from"./chunk-GAD4JG6Z.js";import{a as S}from"./chunk-IHIM3ULH.js";import"./chunk-X5YLR3NI.js";import{a as F,b as P}from"./chunk-WJHVTQWF.js";import{Z as T,j as w,k as E,n as I}from"./chunk-X4WV2SCJ.js";import"./chunk-PT2JM3JA.js";import{$a as s,Ha as M,La as d,S as _,X as h,Y as C,_a as o,ab as m,bb as l,ib as x,kb as v,lb as y,wa as a,zb as f}from"./chunk-XYGHVF62.js";import{i as b}from"./chunk-ODN5LVDJ.js";function Q(t,i){t&1&&(s(0,"h2",18),f(1,"Login"),m())}function W(t,i){t&1&&l(0,"p-message",19)}function X(t,i){t&1&&l(0,"p-message",20)}function Y(t,i){t&1&&l(0,"p-message",21)}function Z(t,i){t&1&&l(0,"p-message",22)}function ee(t,i){if(t&1&&l(0,"p-message",23),t&2){let r=y();o("text",r.errorMsg)}}function te(t,i){if(t&1){let r=x();s(0,"button",24),v("click",function(){let n=h(r).$implicit,p=y();return C(p.completar(n.email,n.pass))}),m()}if(t&2){let r=i.$implicit;o("label",r.label)}}var K=class t{fb=_(A);auth=_(S);router=_(L);form=this.fb.group({email:["",[c.required,c.email]],password:["",[c.required,c.minLength(6)]]});cargando=!1;errorMsg="";accesosRapidos=[{label:"Usuario 1",email:"mihebi3640@merumart.com",pass:"123456"},{label:"Usuario 2",email:"mihebi3641@merumart.com",pass:"123456"}];completar(i,r){this.form.patchValue({email:i,password:r})}ingresar(){return b(this,null,function*(){if(this.form.invalid){this.form.markAllAsTouched();return}this.cargando=!0,this.errorMsg="";let{email:i,password:r}=this.form.value;try{yield this.auth.login(i,r),this.router.navigateByUrl("/")}catch(e){this.errorMsg=e?.message??"Error de login"}finally{this.cargando=!1}})}static \u0275fac=function(r){return new(r||t)};static \u0275cmp=M({type:t,selectors:[["app-login"]],decls:23,vars:9,consts:[[1,"auth-wrap"],["pTemplate","header"],[1,"p-fluid",3,"ngSubmit","formGroup"],[1,"p-field",2,"margin-bottom",".75rem"],[1,"text-muted"],["pInputText","","formControlName","email","placeholder","Ingrese su email"],["severity","error","text","El email es obligatorio",4,"ngIf"],["severity","error","text","Formato de email inv\xE1lido",4,"ngIf"],[1,"p-field",2,"margin-bottom","1rem"],["pPassword","","formControlName","password","toggleMask","true",3,"feedback"],["severity","error","text","La contrase\xF1a es obligatoria",4,"ngIf"],["severity","error","text","M\xEDnimo 6 caracteres",4,"ngIf"],["pButton","","type","submit","label","Ingresar",3,"disabled"],["severity","error","styleClass","mt-2",3,"text",4,"ngIf"],[1,"divider"],[1,"text-muted","atenuado","text-center"],[1,"rapidos","center-flex"],["pButton","","class","p-button-outlined",3,"label","click",4,"ngFor","ngForOf"],[1,"card-title","text-center"],["severity","error","text","El email es obligatorio"],["severity","error","text","Formato de email inv\xE1lido"],["severity","error","text","La contrase\xF1a es obligatoria"],["severity","error","text","M\xEDnimo 6 caracteres"],["severity","error","styleClass","mt-2",3,"text"],["pButton","",1,"p-button-outlined",3,"click","label"]],template:function(r,e){if(r&1&&(s(0,"div",0)(1,"p-card"),d(2,Q,2,0,"ng-template",1),s(3,"form",2),v("ngSubmit",function(){return e.ingresar()}),s(4,"div",3)(5,"label",4),f(6,"Email"),m(),l(7,"input",5),d(8,W,1,0,"p-message",6)(9,X,1,0,"p-message",7),m(),s(10,"div",8)(11,"label",4),f(12,"Contrase\xF1a"),m(),l(13,"input",9),d(14,Y,1,0,"p-message",10)(15,Z,1,0,"p-message",11),m(),l(16,"button",12),d(17,ee,1,1,"p-message",13),m(),l(18,"hr",14),s(19,"p",15),f(20,"Accesos r\xE1pidos"),m(),s(21,"div",16),d(22,te,1,1,"button",17),m()()()),r&2){let n,p,u,g;a(3),o("formGroup",e.form),a(5),o("ngIf",((n=e.form.get("email"))==null?null:n.hasError("required"))&&(((n=e.form.get("email"))==null?null:n.dirty)||((n=e.form.get("email"))==null?null:n.touched))),a(),o("ngIf",((p=e.form.get("email"))==null?null:p.hasError("email"))&&(((p=e.form.get("email"))==null?null:p.dirty)||((p=e.form.get("email"))==null?null:p.touched))),a(4),o("feedback",!1),a(),o("ngIf",((u=e.form.get("password"))==null?null:u.hasError("required"))&&(((u=e.form.get("password"))==null?null:u.dirty)||((u=e.form.get("password"))==null?null:u.touched))),a(),o("ngIf",((g=e.form.get("password"))==null?null:g.hasError("minlength"))&&(((g=e.form.get("password"))==null?null:g.dirty)||((g=e.form.get("password"))==null?null:g.touched))),a(),o("disabled",e.cargando||e.form.invalid),a(),o("ngIf",e.errorMsg),a(5),o("ngForOf",e.accesosRapidos)}},dependencies:[I,w,E,q,k,O,N,D,B,V,R,G,j,U,T,z,$,P,F,J,H],styles:[".auth-wrap[_ngcontent-%COMP%]{max-width:420px;margin:6vh auto 0}.card-title[_ngcontent-%COMP%]{text-align:center;margin:.25rem 0 .5rem;font-weight:700}.text-center[_ngcontent-%COMP%]{text-align:center}.center-flex[_ngcontent-%COMP%]{justify-content:center}.p-field[_ngcontent-%COMP%]{margin-bottom:.75rem}.rapidos[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.divider[_ngcontent-%COMP%]{border-color:#ffffff14;margin:.75rem 0}.atenuado[_ngcontent-%COMP%]{margin:.25rem 0 .5rem}.mt-2[_ngcontent-%COMP%]{margin-top:.5rem}"]})};export{K as LoginComponent};
